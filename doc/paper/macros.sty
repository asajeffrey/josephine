\newcommand{\REF}[1]{\&#1\,}
\newcommand{\REFMUT}[1]{\&#1\,\mathsf{mut}\,}
\newcommand{\STRING}{\mathsf{String}}
\newcommand{\CanAccess}{\mathsf{CanAccess}}
\newcommand{\Compartment}{\mathsf{Compartment}}
\newcommand{\InCompartment}[1]{\mathsf{InCompartment}\langle #1\rangle}
\newcommand{\JSContext}[1]{\mathsf{JSContext}\langle #1\rangle}
\newcommand{\JSManaged}[1]{\mathsf{JSManaged}\langle #1\rangle}
\newcommand{\JSLifetime}[1]{\mathsf{JSLifetime}\langle #1\rangle}
\newcommand{\JSCompartmental}[1]{\mathsf{JSCompartmental}\langle #1\rangle}
\newcommand{\JSRoot}[1]{\mathsf{JSRoot}\langle #1\rangle}
\newcommand{\Aged}{\mathsf{Aged}}
\newcommand{\ChangeCompartment}{\mathsf{ChangeCompartment}}
\newcommand{\Cell}[1]{\mathsf{Cell}\langle #1\rangle}
\newcommand{\NativeCell}[1]{\mathsf{NativeCell}\langle #1\rangle}
\newcommand{\borrow}{\mathsf{borrow}}
\newcommand{\inRoot}{\mathsf{in\_root}}

\newcommand{\cc}{{::}}

\def\kw#1{%
  \expandafter\ifx\csname#1\endcsname\relax
    \mathsf{#1}%
  \else
    \csname#1\expandafter\endcsname
  \fi
}

\def\setSlashActive{\catcode`\/=\active}

{\setSlashActive
  \gdef\activeSlash#1/{\kw{#1}}
  \gdef\activateSlash{\setSlashActive\let/=\activeSlash}
}

\newenvironment{code}{\[\activateSlash\begin{array}{l}}{\end{array}\]}

\newcommand{\Nat}{\mathbb{N}}
\newcommand{\fun}{\mathbin\rightarrow}
\newcommand{\init}{\rho_0}
\newcommand{\p}{{}'}
\newcommand{\pp}{{}''}
\newcommand{\ppp}{{}'''}
\newcommand{\LP}{L'}
\newcommand{\rhoP}{\rho'}
\newcommand{\sigmaP}{\sigma'}
\newcommand{\GammaP}{\Gamma'}
\newcommand{\DeltaP}{\Delta'}
\newcommand{\rhoPP}{\rho''}
\newcommand{\rhoPPP}{\rho'''}
\newcommand{\bigStep}{\mathrel\Downarrow}
\newcommand{\bigSubst}{\mathrel\Downarrow}
\newcommand{\words}{}
\newcommand{\var}{}
\newcommand{\pat}{}
\newcommand{\num}{}
\newcommand{\deref}{}
\newcommand{\ptr}{}
\newcommand{\enum}{\mathop{\mathstrut\Sigma}}
\newcommand{\tagged}{}
\newcommand{\singleton}{}
\newcommand{\cons}{}
\newcommand{\append}{}
\newcommand{\st}{\mathbin.}
\newcommand{\comma}{,}
\newcommand{\equals}{=}
\newcommand{\with}{{::}}
\newcommand{\where}{\mathrel{\mathrm{where}}}
\newcommand{\wherenot}{\mathrel{\mathrm{unless}}}
\newcommand{\andalso}{\mathrel{\mathrm{and}}}
\newcommand{\member}{\in}
\newcommand{\vdashv}{\vdash}
\newcommand{\iflet}{\mathop{\mathsf{if\,let}}}
\newcommand{\thn}{\,\{}
\newcommand{\els}{\}\,\mathsf{else}\,\{}
\newcommand{\telfi}{\}}
\newcommand{\matches}{\mathrel{\mathrm{matches}}}
\newcommand{\subst}{}
\newcommand{\semi}{;}
\newcommand{\override}{\oplus}
\newcommand{\lift}{}
\newcommand{\slice}{}
\newcommand{\sem}{\llbracket}
\newcommand{\mes}{\rrbracket}
\newcommand{\val}{}
\newcommand{\loc}{}
\newcommand{\varref}{\mathop{\mathsf{ref}}}
\newcommand{\mut}{\mathop{\mathsf{mut}}}
\newcommand{\addr}{\&}
\newcommand{\unit}{{()}}
\newcommand{\step}{\longrightarrow}
\newcommand{\period}{{.}}
\newcommand{\lett}{\mathop{\mathsf{let}}}
\newcommand{\local}{\mathop{\mathsf{local}}}
\newcommand{\sizet}{\mathop{\mathsf{size}}}
\newcommand{\sizep}{\mathop{\mathsf{size}}}
\newcommand{\reft}{\&_}
\newcommand{\after}{{}_}
\newcommand{\of}{}
\newcommand{\never}{{\bullet}}
\newcommand{\always}{{\circ}}
\newcommand{\Boxt}{\Box}
\newcommand{\set}{{*}}

\def\Lift(#1){{#1}_\bot}
\def\List(#1){{#1}^*}
